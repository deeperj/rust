'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var option = require('./option.js');
var functions = require('./functions.js');
var observable = require('./observable.js');
var disposable = require('./disposable.js');

class ObservableSvelteStore {
    constructor(observable, scheduler) {
        this.observable = observable;
        this.scheduler = scheduler;
    }
    subscribe(callback) {
        callback(option.none);
        const subscription = functions.pipe(this.observable, observable.subscribe(this.scheduler, callback));
        return functions.defer(subscription, disposable.dispose);
    }
}
const subscribe = (scheduler) => obs => new ObservableSvelteStore(obs, scheduler);

exports.subscribe = subscribe;
